{"version":3,"file":"js/llms-spinner.js","mappings":"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","sources":["webpack://lifterlms/./packages/components/src/spinner/constants.js","webpack://lifterlms/./packages/components/src/spinner/index.js","webpack://lifterlms/./packages/components/src/spinner/styles.js","webpack://lifterlms/./packages/components/src/spinner/utils.js","webpack://lifterlms/external window [\"wp\",\"i18n\"]","webpack://lifterlms/webpack/bootstrap","webpack://lifterlms/webpack/runtime/compat get default export","webpack://lifterlms/webpack/runtime/define property getters","webpack://lifterlms/webpack/runtime/hasOwnProperty shorthand","webpack://lifterlms/webpack/runtime/make namespace object","webpack://lifterlms/./src/js/spinner.js"],"sourcesContent":["/**\n * Spinner wrapper element class name.\n *\n * @type {string}\n */\nexport const WRAPPER_CLASSNAME = 'llms-spinning';\n\n/**\n * Spinner element class name.\n *\n * @type {string}\n */\nexport const CLASSNAME = 'llms-spinner';\n\n/**\n * Small-sized spinner identifier / class name.\n *\n * @type {string}\n */\nexport const SIZE_SMALL = 'small';\n\n/**\n * Default-sized spinner identifier / class name.\n *\n * @type {string}\n */\nexport const SIZE_DEFAULT = 'default';\n","/* eslint-env jquery */\n\n// Internal deps.\nimport { SIZE_DEFAULT } from './constants';\nimport { create, ensureElementList, find, loadStyles } from './utils';\n\n/**\n * This module was originally included in the LifterLMS Core Javascript in the `LLMS` global object as `LLMS.Spinner`.\n *\n * It has since been relocated here as a module in the `@lifterlms/components` package. During the move it was upgraded\n * to enable usage without the requirement of passing in jQuery selectors.\n *\n * In the future, passing native jQuery selectors into any of these modules will be deprecated in favor of native/vanilla Javascript\n * Elements or selector strings that can be passed into `document.querySelector()` or `document.querySelectorAll()`.\n */\n\n/**\n * Retrieves spinner(s) inside a given element.\n *\n * If the spinner element doesn't already exist it will be created.\n *\n * @since 1.1.0\n *\n * @param {jQuery|Element|string} selector  A selector to be parsed by `jQuery()`, an existing `jQuery()` selection, a DOM Element. The first spinner\n *                                          found within the element will be returned. If none found it will be created, appended to the element, and\n *                                          then returned.\n * @param {string}                size      Size or the spinner element. Accepts \"default\" (40px) or \"small\" (20px).\n * @param {boolean}               useJQuery If `true`, the return value will be a jQuery selection as opposed to an Element. This is the default behavior\n *                                          for backwards compatibility but will be removed in a future version.\n * @return {null|Element|jQuery} Returns `null` when the selector cannot be located, otherwise returns an `Element` or `jQuery` selection based on the value\n *                               of `useJQuery`.\n */\nexport function get( selector, size = SIZE_DEFAULT, useJQuery = true ) {\n\tloadStyles();\n\n\tconst nodeList = ensureElementList( selector );\n\tif ( ! nodeList.length ) {\n\t\treturn null;\n\t}\n\n\tconst wrapper = nodeList[ 0 ],\n\t\t// Find an existing spinner and create it if one doesn't exist.\n\t\tspinner = find( wrapper ) || create( wrapper, size );\n\n\t// Return it.\n\treturn useJQuery && typeof jQuery !== 'undefined'\n\t\t? jQuery( spinner )\n\t\t: spinner;\n}\n\n/**\n * Starts spinner(s) inside a given element or element list.\n *\n * If the spinner element doesn't already exist it will be created.\n *\n * @since 1.1.0\n *\n * @param {jQuery|Element|NodeList|string} selector A selector to be parsed by `jQuery()`, an existing `jQuery()` selection, a DOM Element, or an\n *                                                  array of DOM Elements. Each element in the list will have it's spinner started. If a spinner doesn't\n *                                                  exist within the element, it will be appended and then started.\n * @param {string}                         size     Size or the spinner element. Accepts \"default\" (40px) or \"small\" (20px).\n * @return {void}\n */\nexport function start( selector, size = SIZE_DEFAULT ) {\n\tensureElementList( selector ).forEach( ( el ) => {\n\t\tconst spinner = get( el, size, false );\n\t\tif ( spinner ) {\n\t\t\tspinner.style.display = 'block';\n\t\t}\n\t} );\n}\n\n/**\n * Stops spinner(s) inside a given element or element list.\n *\n * @since 1.1.0\n *\n * @param {jQuery|Element|NodeList|string} selector A selector to be parsed by `jQuery()`, an existing `jQuery()` selection, a DOM Element, or an\n *                                                  array of DOM Elements. Each element in the list will have it's spinner stopped.\n * @return {void}\n */\nexport function stop( selector ) {\n\tensureElementList( selector ).forEach( ( el ) => {\n\t\tconst spinner = get( el, SIZE_DEFAULT, false );\n\t\tif ( spinner ) {\n\t\t\tspinner.style.display = 'none';\n\t\t}\n\t} );\n}\n","import { WRAPPER_CLASSNAME, CLASSNAME, SIZE_SMALL } from './constants';\n\n/**\n * CSS Styles for the components.\n *\n * @type {string}\n */\nexport const STYLES = `\n\t.${ WRAPPER_CLASSNAME } {\n\t\tbackground: rgba( 250, 250, 250, 0.7 );\n\t\tbottom: 0;\n\t\tdisplay: none;\n\t\tleft: 0;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: 0;\n\t\tz-index: 2;\n\t}\n\n\t.${ CLASSNAME } {\n\t\tanimation: llms-spinning 1.5s linear infinite;\n\t\tbox-sizing: border-box;\n\t\tborder: 4px solid #313131;\n\t\tborder-radius: 50%;\n\t\theight: 40px;\n\t\tleft: 50%;\n\t\tmargin-left: -20px;\n\t\tmargin-top: -20px;\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\twidth: 40px;\n\n\t}\n\n\t.${ CLASSNAME }.${ SIZE_SMALL } {\n\t\tborder-width: 2px;\n\t\theight: 20px;\n\t\tmargin-left: -10px;\n\t\tmargin-top: -10px;\n\t\twidth: 20px;\n\t}\n\n\t@keyframes llms-spinning {\n\t\t0% {\n\t\t\ttransform: rotate( 0deg )\n\t\t}\n\t\t50% {\n\t\t\tborder-radius: 5%;\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotate( 220deg) \n\t\t}\n\t}\n`;\n","// WP deps.\nimport { __ } from '@wordpress/i18n';\n\n// Internal deps.\nimport { WRAPPER_CLASSNAME, CLASSNAME, SIZE_DEFAULT } from './constants';\nimport { STYLES } from './styles';\n\n/**\n * Creates a spinner element inside the specified wrapper Element.\n *\n * @since 1.1.0\n *\n * @param {Element} wrapper DOM node to append the created spinner element to.\n * @param {string}  size    Spinner element size.\n * @return {Element} Returns the created spinner node.\n */\nexport function create( wrapper, size = SIZE_DEFAULT ) {\n\tconst spinner = document.createElement( 'div' ),\n\t\tloadingMsg = __( 'Loading…', 'lifterlms' );\n\n\tspinner.innerHTML = `<i class=\"${ CLASSNAME } ${ size }\" role=\"alert\" aria-live=\"assertive\"><span class=\"screen-reader-text\">${ loadingMsg }</span></i>`;\n\tspinner.classList.add( WRAPPER_CLASSNAME );\n\n\twrapper.appendChild( spinner );\n\n\treturn spinner;\n}\n\n/**\n * Normalizes accepted selector inputs and returns a `NodeList`.\n *\n * When jQuery selection is detected, adds a console deprecation warning as well.\n *\n * @since 1.1.0\n *\n * @param {NodeList|Element|string|jQuery} selector The input selector.\n * @return {Element[]} An array of `Element` objects derived from the selector input.\n */\nexport function ensureElementList( selector ) {\n\tselector =\n\t\ttypeof selector === 'string'\n\t\t\t? document.querySelectorAll( selector )\n\t\t\t: selector;\n\n\t// Already a NodeList.\n\tif ( selector instanceof NodeList ) {\n\t\treturn Array.from( selector );\n\t}\n\n\tconst list = [];\n\tif ( selector instanceof Element ) {\n\t\tlist.push( selector );\n\t} else if ( typeof jQuery !== 'undefined' && selector instanceof jQuery ) {\n\t\tselector.toArray().forEach( ( el ) => list.push( el ) );\n\t}\n\n\treturn list;\n}\n\n/**\n * Locates an existing spinner element which is a direct child of the specified wrapper element.\n *\n * @since 1.1.0\n *\n * @param {Element} wrapper Node element for the wrapper.\n * @return {null|undefined|Element} Returns `null` if no spinners exist within the wrapper, undefined if no spinners are\n *                                  direct descendants of the wrapper, otherwise returns the spinner element.\n */\nexport function find( wrapper ) {\n\tconst spinners = wrapper.querySelectorAll( `.${ WRAPPER_CLASSNAME }` );\n\tif ( ! spinners.length ) {\n\t\treturn null;\n\t}\n\n\treturn Array.from( spinners ).find( ( el ) => wrapper === el.parentNode );\n}\n\n/**\n * Loads CSS styles and appends them to the document's <head>.\n *\n * Attaching CSS directly to the `get()` method means that we don't have to worry about loading CSS files (or relying on CSS) included\n * by the LifterLMS core plugin in order to use this styled component.\n *\n * @since 1.1.0\n *\n * @return {void}\n */\nexport function loadStyles() {\n\tconst STYLE_ID = 'llms-spinner-styles';\n\n\tif ( ! document.getElementById( STYLE_ID ) ) {\n\t\tconst style = document.createElement( 'style' );\n\t\tstyle.textContent = STYLES.replace( /\\n/g, '' )\n\t\t\t.replace( /\\t/g, ' ' )\n\t\t\t.replace( /\\s\\s+/g, ' ' );\n\t\tstyle.id = STYLE_ID;\n\t\tdocument.head.appendChild( style );\n\t}\n}\n","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// Loading the Spinner component file(s) directly so that we don't load other unneeded dependencies (like WPElement/React).\nimport * as Spinner from '../../packages/components/src/spinner/';\n\n/**\n * Expose the components Spinner module via the global `window.LLMS.Spinner` object for backwards compatibility.\n *\n * This is automatically included in the `llms.js` script file so you likely do not need to include this script directly.\n *\n * @since 7.0.0\n */\nwindow.LLMS = window.LLMS || {};\nwindow.LLMS.Spinner = Spinner;\n"],"names":["WRAPPER_CLASSNAME","CLASSNAME","SIZE_SMALL","SIZE_DEFAULT","create","ensureElementList","find","loadStyles","get","selector","size","useJQuery","nodeList","length","wrapper","spinner","jQuery","start","forEach","el","style","display","stop","STYLES","__","document","createElement","loadingMsg","innerHTML","classList","add","appendChild","querySelectorAll","NodeList","Array","from","list","Element","push","toArray","spinners","parentNode","STYLE_ID","getElementById","textContent","replace","id","head","Spinner","window","LLMS"],"sourceRoot":""}